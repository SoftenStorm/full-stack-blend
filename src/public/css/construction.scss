@import "construction/bootstrap-grid.scss";
@import "construction/mixins/animation";
@import "variables";

// Scaffolding
//
html, body {
  padding: 0;
  margin: 0;
  height: 100%;
  position: relative;
  overflow: hidden;
}

.container,
.container-fluid,
.internal-fsb-allow-cursor {
  min-height: 20px;
  background-color: rgba(255, 255, 255, 0.0);
}

.internal-fsb-element {
  padding: 1px;
}

// Layout
//
.internal-fsb-table-layout {
  > .row {
    border-bottom: dashed 1px rgba(0, 0, 255, 127);
    
    > .col {
      border-right: dashed 1px rgba(0, 0, 255, 127);
      
      &:last-child {
        border: none;
      }
      
      > .container,
      > .container-fluid {
        height: 100%;
        
        > .row {
          height: 100%;
        }
      }
    }
    
    &:last-child {
      border: none;
    }
  }
}

.internal-fsb-strict-layout {
  > .internal-fsb-element {
    position: relative;
    border: solid 1px rgba(0, 0, 255, 127);
  }
}

.internal-fsb-absolute-layout {
  > .internal-fsb-element {
    position: absolute;
    border: solid 1px rgba(0, 255, 0, 127);
  }
}


// Cursor
//
.internal-fsb-cursor {
  position: relative;
  left: inherit;
  top: inherit;
  min-height: 20px;
  
  .col-1::before {
    content: '';
    display: block;
    position: absolute;
    left: 0px;
    top: 0px;
    z-index: $maximum-z-index;
    width: 1px;
    height: 20px;
    
    @include animation(0, 1s, animation-blink);
  }
}

@include keyframe(animation-blink) {
  0% {
    background-color: transparent;
  }
  50% {
    background-color: transparent;
  }
  50.00001% {
    background-color: black;
  }
  100% {
    background-color: black;
  }
}


// Dragger
//
.internal-fsb-element {
  > .internal-fsb-dragger {
    display: none;
      
    span {
      position: absolute;
      
      &::before {
        content: '';
        display: block;
        position: absolute;
        z-index: #{$maximum-z-index - 2};
        top: -#{$selected-element-resizer-size/2}px;
        left: -#{$selected-element-resizer-size/2}px;
        background-color: white;
        width: #{$selected-element-resizer-size}px;
        height: #{$selected-element-resizer-size}px;
        border: solid 1px rgb(0, 0, 255);
      }
      
      &.t { top: 0 !important; left: 50%; cursor: n-resize; }
      &.r { left: 100% !important; top: 50%; cursor: e-resize; }
      &.b { top: 100% !important; left: 50%; cursor: s-resize; }
      &.l { left: 0 !important; top: 50%; cursor: w-resize; }
      &.t.l { cursor: nw-resize; }
      &.t.r { cursor: ne-resize; }
      &.b.r { cursor: se-resize; }
      &.b.l { cursor: sw-resize; }
    }
  }
}

.internal-fsb-strict-layout {
  > .internal-fsb-element {
    > .internal-fsb-dragger {
      display: block;
    }
  }
}

.internal-fsb-absolute-layout {
  > .internal-fsb-element {
    > .internal-fsb-dragger {
      display: block;
      
      span {
        &::before {
          border: solid 1px rgb(0, 255, 0);
        }
      }
    }
  }
}

// Guide
//
.internal-fsb-guide {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  pointer-events: none;
  z-index: #{$maximum-z-index - 1};
  
  .container,
  .container-fluid {
    height: 100%;
    
    .row {
      height: 100%; 
      
      .col-1 {
        position: relative;
        height: 100%;
        
        &::before,
        &:last-child::after {
          content: '';
          display: block;
          position: absolute;
          width: 1px;
          top: 0;
          bottom: 0;
          left: -0.5px;
          background-color: rgba(0, 0, 0, 0.05);
        }
        
        &:last-child::after {
          left: inherit;
          right: -0.5px;
        }
      }
    }
  }
}